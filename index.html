<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>¬°S√∫per Rifa del Oso!</title>
  <meta name="description" content="Rifa de peluche tejido. Participa: juega el 5 de septiembre con las 2 √∫ltimas cifras de la Loter√≠a de Medell√≠n. Publicaremos el n√∫mero ganador aqu√≠ durante una semana." />
  <style>
    :root{
      --bg:#faf7f4; --card:#ffffff; --ink:#2b2b2b; --brand:#d0352b; --muted:#6b6b6b; --ok:#12824c; --warn:#b85b00; --accent:#f2decf;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;background:var(--bg);color:var(--ink)}
    header{background:linear-gradient(180deg,#fff, #fff0);position:sticky;top:0;z-index:10;border-bottom:1px solid #eee}
    .wrap{max-width:1000px;margin:auto;padding:20px}
    .hero{display:grid;grid-template-columns:1fr;gap:16px;align-items:center}
    .title{font-size:clamp(28px,5vw,48px);font-weight:800;color:var(--brand);letter-spacing:.4px}
    .tag{display:inline-block;background:var(--accent);padding:6px 12px;border-radius:999px;font-weight:600}
    .sub{color:var(--muted)}
    .card{background:var(--card);border:1px solid #eee;border-radius:18px;box-shadow:0 6px 24px rgba(0,0,0,.06)}
    .grid-card{padding:16px}
    .info{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .info b{color:var(--ink)}
    .cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
    .btn{border:none;cursor:pointer;padding:10px 14px;border-radius:12px;font-weight:700}
    .btn.primary{background:var(--brand);color:#fff}
    .btn.ghost{background:#0000;border:1px solid #ddd;color:var(--ink)}
    .btn.ok{background:var(--ok);color:#fff}
    .btn.warn{background:var(--warn);color:#fff}

    .board{--cols:10;display:grid;grid-template-columns:repeat(var(--cols),1fr);gap:8px;margin-top:16px}
    .cell{position:relative;aspect-ratio:1;display:grid;place-items:center;border:1px solid #e5e5e5;border-radius:12px;background:#fff;font-weight:700;font-size:clamp(12px,2.8vw,18px);cursor:pointer;transition:.15s transform,.15s box-shadow}
    .cell:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(0,0,0,.06)}
    .cell small{position:absolute;bottom:6px;right:8px;color:#aaa;font-weight:600;font-size:.75em}
    .cell.sold{color:#9b9b9b;opacity:.9}
    .cell.sold::after{content:"üêª";position:absolute;inset:0;display:grid;place-items:center;font-size:clamp(20px,4.8vw,30px)}
    .legend{display:flex;gap:14px;align-items:center;color:#666;font-size:14px}
    .dot{width:16px;height:16px;border-radius:6px;border:1px solid #ddd;background:#fff}
    .dot.sold{background:#f4f4f4;display:grid;place-items:center}
    .dot.sold::after{content:"üêª";font-size:12px}

    figure{margin:0;border-radius:18px;overflow:hidden}
    img.hero-img{width:100%;height:auto;display:block}

    footer{padding:30px 20px;color:#666;text-align:center}
    .note{font-size:14px;color:#555}
    .winning-banner{margin-top:10px;padding:10px 14px;border-radius:12px;background:#fff6e7;border:1px dashed #ffc977;color:#7a4900}

    @media (min-width:880px){
      .hero{grid-template-columns:1.15fr .85fr}
      .grid-card{padding:20px}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="info">
        <span class="tag">¬°S√∫per Rifa del Oso!</span>
        <span class="sub">Juega el <b>5 de septiembre</b> con las <b>2 √∫ltimas cifras</b> de la Loter√≠a de Medell√≠n.</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <figure class="card">
        <!-- Reemplaza 'oso.jpg' por tu foto (mismo nombre en la carpeta)  -->
        <img class="hero-img" src="oso.jpg" alt="Peluche tejido en rifa" />
      </figure>

      <div class="grid-card card">
        <h1 class="title">G√°nate este hermoso peluche tejido</h1>
        <p class="sub">C√≥mprate un numerito y participa. ¬°Poquitos cupos y mucha suerte! <b>Valor: $2.000</b></p>
        <div class="legend" aria-hidden="true">
          <span class="dot"></span> Disponible
          <span class="dot sold"></span> Vendido
        </div>
        <div id="board" class="board" role="grid" aria-label="Cuadr√≠cula de la rifa (00 a 99)"></div>
        <div class="cta">
          <button id="btnWhats" class="btn ok">üì≤ Preguntar / Apartar por WhatsApp</button>
          <button id="btnInvert" class="btn ghost" title="Invierte selecci√≥n">Invertir selecci√≥n</button>
          <button id="btnReset" class="btn warn" title="Limpia todo">Restablecer</button>
        </div>
        <p class="note">Publicaremos aqu√≠ el <b>n√∫mero ganador</b> durante una semana despu√©s del sorteo. ‚úîÔ∏è</p>
        <div id="winning" class="winning-banner" hidden></div>
      </div>
    </section>
  </main>

  <footer>
    <small>Organiza: <b>Rifa del Oso</b>. Reglas: gana quien coincida con las 2 √∫ltimas cifras del premio mayor de la Loter√≠a de Medell√≠n del 5 de septiembre.</small>
  </footer>

  <script>
    // ================== CONFIGURACI√ìN R√ÅPIDA ==================
    // Reemplaza por tu n√∫mero de WhatsApp (con indicativo de pa√≠s):
    const WHATS_NUMBER = "573114982807";
    // Mensaje predeterminado para WhatsApp
    const WHATS_MSG = encodeURIComponent(
      "Hola üëã, quiero participar en la *S√∫per Rifa del Oso*. ¬øQu√© n√∫meros tienes disponibles?"
    );
    // Lista de n√∫meros DISPONIBLES que nos diste. Formato 00-99.
    // Todo lo que NO est√© en esta lista se marcar√° como VENDIDO (con osito).
    const disponibles = [
      3,6,7,10,11,12,14,15,21,23,24,26,30,31,33,34,35,36,40,41,42,43,44,46,47,49,
      50,51,53,54,55,56,58,59,60,61,62,64,65,66,68,69,70,71,72,74,75,76,78,79,80,
      81,83,84,85,86,88,90,91,92,93,94,96
    ].map(n => (""+n).padStart(2,"0"));
    // ==========================================================

    const board = document.getElementById('board');

    // Carga/guarda estado local
    const save = () => localStorage.setItem('rifa-oso-estado', JSON.stringify(state));
    const saved = localStorage.getItem('rifa-oso-estado');

    // Estado: map n√∫mero -> sold(true/false)
    const state = saved ? JSON.parse(saved) : {};

    // Generar n√∫meros 00..99
    const numbers = Array.from({length:100}, (_,i)=> (""+i).padStart(2,'0'));

    function render(){
      board.innerHTML = '';
      numbers.forEach(num => {
        // Por defecto: vendido, salvo que est√© en 'disponibles'
        const defaultSold = !disponibles.includes(num);
        const sold = state[num] !== undefined ? state[num] : defaultSold;
        const cell = document.createElement('button');
        cell.className = 'cell' + (sold ? ' sold' : '');
        cell.setAttribute('role','gridcell');
        cell.setAttribute('aria-pressed', sold ? 'true' : 'false');
        cell.dataset.num = num;
        cell.innerHTML = `<div>${num}</div>`;
        cell.addEventListener('click', () => {
          state[num] = !cell.classList.contains('sold');
          save();
          render();
        });
        board.appendChild(cell);
      });
    }

    // Botones
    document.getElementById('btnWhats').onclick = () => {
      const url = `https://api.whatsapp.com/send?phone=${WHATS_NUMBER}&text=${WHATS_MSG}`;
      window.open(url, '_blank');
    };

    document.getElementById('btnInvert').onclick = () => {
      numbers.forEach(n => state[n] = !(state[n] ?? (!disponibles.includes(n))));
      save(); render();
    };

    document.getElementById('btnReset').onclick = () => {
      if(confirm('¬øRestablecer el tablero al listado original (disponibles vs. vendidos)?')){
        localStorage.removeItem('rifa-oso-estado');
        for (const k in state) delete state[k];
        render();
      }
    };

    // Mostrar ganador (si se pasa en el hash #ganador=NN)
    const params = new URLSearchParams(location.hash.slice(1));
    const ganador = params.get('ganador');
    if(ganador){
      const bn = ganador.padStart(2,'0');
      const winBox = document.getElementById('winning');
      winBox.hidden = false;
      winBox.textContent = `N√∫mero ganador: ${bn}. Este aviso permanecer√° visible durante una semana.`;
    }

    render();
  </script>
</body>
</html>
